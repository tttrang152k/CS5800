<!doctype html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8"/>
    <title>Payment Confirmation</title>
    <style>
        body { font-family: system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif; padding:24px; }
        .toolbar { display:flex; justify-content:space-between; align-items:center; margin-bottom:12px; }
        .btn, a.btn, button.btn {
            display:inline-flex; align-items:center; justify-content:center;
            padding:8px 12px; border:1px solid #ddd; border-radius:8px;
            background:#fff; color:#111; text-decoration:none; cursor:pointer;
            font:inherit; line-height:1.2; min-height:32px;
        }
        .card { border:1px solid #eee; border-radius:8px; padding:16px; margin-bottom:16px; }
        .num { text-align:right; }
        table { border-collapse: collapse; width: 100%; }
        th, td { border-bottom: 1px solid #eee; padding: 8px; text-align: left; }
        .ok { background:#f0fff4; border:1px solid #c6f6d5; padding:10px 12px; border-radius:6px; }
    </style>
</head>
<body>
<div class="toolbar">
    <h2>Payment Confirmation</h2>
    <a class="btn" href="/invoices">← Back to Invoices</a>
</div>
<p class="ok">Payment was applied successfully.</p>
<div class="card">
    <h3 th:text="${'Invoice ' + invoice.id}">Invoice INV-000123</h3>
    <table>
        <tr><th>Status</th><td th:text="${invoice.status}">PartiallyPaid</td></tr>
        <tr><th>Total</th><td class="num" th:text="${#numbers.formatDecimal(invoice.total,1,'COMMA',2,'POINT')}">0.00</td></tr>
        <tr><th>Paid</th><td class="num" th:text="${#numbers.formatDecimal(paid,1,'COMMA',2,'POINT')}">0.00</td></tr>
        <tr><th>Balance</th><td class="num" th:text="${#numbers.formatDecimal(balance,1,'COMMA',2,'POINT')}">0.00</td></tr>
    </table>
</div>

<div class="card">
    <h3 th:text="${'Payment ' + payment.id}">Payment PAY-…</h3>
    <table>
        <tr><th>Method</th><td th:text="${payment.method}">CASH</td></tr>
        <tr><th>Amount</th><td class="num" th:text="${#numbers.formatDecimal(payment.amount,1,'COMMA',2,'POINT')}">0.00</td></tr>
        <tr><th>Status</th><td th:text="${payment.status}">Cleared</td></tr>
        <tr><th>Provider</th><td th:text="${payment.provider}">CashGateway</td></tr>
        <tr><th>Auth Code</th><td th:text="${payment.authCode}">CASH</td></tr>
        <tr><th>Paid At</th><td th:text="${payment.paidAt}">2025-10-07T12:00</td></tr>
    </table>
</div>

<p>
    <a th:href="@{'/invoices/' + ${invoice.id} + '/pay'}">Make another payment</a>
</p>

</body>
</html>
